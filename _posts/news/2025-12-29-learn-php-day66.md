---
layout: news
name: "–î–µ–Ω—å 66: –ú–æ—â—å Twig: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏"
title: "PHP –æ–±—É—á–µ–Ω–∏–µ: –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –î–µ–Ω—å 66 - –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ Twig: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∏–Ω–∫–ª—é–¥—ã –∏ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏"
description: "–ò–∑—É—á–∞–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Twig: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤, —Ä–∞–±–æ—Ç–∞ —Å –±–ª–æ–∫–∞–º–∏, –∏–Ω–∫–ª—é–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —à–∞–±–ª–æ–Ω–∞—Ö."
date: 2025-12-29
image: "/assets/images/news/56405c9ae67673981fa31fe60247faa6.jpg"
category: php
news_id: er6aqq880j6tefd5
---


<div class="goal-box">
<h2 class="goal-title">üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
<p>–û—Å–≤–æ–∏—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Twig: —Å–∏—Å—Ç–µ–º—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤, —Ä–∞–±–æ—Ç—É —Å –±–ª–æ–∫–∞–º–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–∫–ª—é–¥–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–¥–∞—á—É —Å–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∏—Å—Ç—ã—Ö, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –Ω–∞—à–µ–≥–æ –±–ª–æ–≥–∞.</p>
</div>

<section class="section theory">
<h2 class="section-title">üìö –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (40 –º–∏–Ω—É—Ç)</h2>

<div class="card">
<h3><span class="icon">üèóÔ∏è</span> –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –≤ Twig</h3>

<p>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Twig, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é —à–∞–±–ª–æ–Ω–æ–≤ –∏ –∏–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.</p>

<div class="key-points">
<h4>üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:</h4>
<ol>
<li><strong>–ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω</strong> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (—Å–∫–µ–ª–µ—Ç) —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
<li><strong>–ë–ª–æ–∫–∏ (blocks)</strong> ‚Äî —ç—Ç–æ "–¥—ã—Ä–∫–∏" –≤ –±–∞–∑–æ–≤–æ–º —à–∞–±–ª–æ–Ω–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö</li>
<li><strong>–î–æ—á–µ—Ä–Ω–∏–π —à–∞–±–ª–æ–Ω</strong> —Ä–∞—Å—à–∏—Ä—è–µ—Ç –±–∞–∑–æ–≤—ã–π –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã–µ –±–ª–æ–∫–∏</li>
<li><strong>Twig —Å–æ–±–∏—Ä–∞–µ—Ç</strong> —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π</li>
</ol>
</div>

{% raw %}
<div class="comparison-table table--hover">
<table>
<caption>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤</caption>
<thead>
<tr>
<th>–ü–æ–¥—Ö–æ–¥</th>
<th>–ü—Ä–∏–º–µ—Ä</th>
<th>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</th>
<th>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</strong></td>
<td>header/footer –≤ –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ</td>
<td>–ü—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å</td>
<td>–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–ª–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å</td>
</tr>
<tr>
<td><strong>PHP include</strong></td>
<td><code>&lt;?php include 'header.php'; ?&gt;</code></td>
<td>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</td>
<td>–ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Å–ª–æ–∂–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å</td>
</tr>
<tr>
<td><strong>Twig –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong></td>
<td><code>{% extends 'base.html.twig' %}</code></td>
<td>–ß–∏—Å—Ç–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤, parent()</td>
<td>–¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</td>
</tr>
</tbody>
</table>
</div>
{% endraw %}

<div class="note">
<p><strong>üí° –†–µ–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:</strong> –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ–º–∞. –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∏ —Å—Ç–µ–Ω—ã. –ë–ª–æ–∫–∏ ‚Äî —ç—Ç–æ –æ–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏ (–∏—Ö –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å). –î–æ—á–µ—Ä–Ω–∏–π —à–∞–±–ª–æ–Ω ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—Ç–¥–µ–ª–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–Ω–∞—Ç—ã.</p>
</div>
</div>

<div class="card">
<h3><span class="icon">üß©</span> –ë–ª–æ–∫–∏ –∏ –∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h3>

<p>–ë–ª–æ–∫–∏ ‚Äî —ç—Ç–æ –º–µ—Å—Ç–∞ –≤ —à–∞–±–ª–æ–Ω–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö.</p>

{% raw %}
<div class="key-points">
<h4>üìù –°–∏–Ω—Ç–∞–∫—Å–∏—Å –±–ª–æ–∫–æ–≤:</h4>
<pre><code>{# –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω (base.html.twig) #}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;{% block title %}–°–∞–π—Ç{% endblock %}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {% block header %}{% endblock %}
    
    &lt;main&gt;
        {% block content %}
            &lt;p&gt;–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é&lt;/p&gt;
        {% endblock %}
    &lt;/main&gt;
    
    {% block footer %}{% endblock %}
    
    {% block scripts %}
        &lt;script src="/js/common.js"&gt;&lt;/script&gt;
    {% endblock %}
&lt;/body&gt;
&lt;/html&gt;

{# –î–æ—á–µ—Ä–Ω–∏–π —à–∞–±–ª–æ–Ω (page.html.twig) #}
{% extends 'base.html.twig' %}

{% block title %}–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞{% endblock %}

{% block content %}
    &lt;h1&gt;–ú–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç&lt;/h1&gt;
    {{ parent() }} {# –í—ã–∑–æ–≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –±–ª–æ–∫–∞ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è #}
{% endblock %}

{% block scripts %}
    {{ parent() }} {# –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è #}
    &lt;script src="/js/page.js"&gt;&lt;/script&gt; {# –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–∏ #}
{% endblock %}</code></pre>
</div>
{% endraw %}

<div class="key-points">
<h4>‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–æ–≤:</h4>
<ul>
<li><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</strong> ‚Äî –µ—Å–ª–∏ –±–ª–æ–∫ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è</li>
<li><strong><code>parent()</code></strong> ‚Äî –≤—ã–∑–æ–≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –±–ª–æ–∫–∞ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —à–∞–±–ª–æ–Ω–∞</li>
<li><strong>–í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏</strong> ‚Äî –±–ª–æ–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ –±–ª–æ–∫–∏</li>
<li><strong>–ë–ª–æ–∫–∏ –±–µ–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</strong> ‚Äî –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏: <code>{% block sidebar %}{% endblock %}</code></li>
</ul>
</div>
</div>

<div class="card">
<h3><span class="icon">üß±</span> –ò–Ω–∫–ª—é–¥—ã (–≤–∫–ª—é—á–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)</h3>

<p>–ò–Ω–∫–ª—é–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –Ω–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.</p>

{% raw %}
<div class="key-points">
<h4>üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–∫–ª—é–¥–æ–≤:</h4>
<pre><code>{# –ü—Ä–æ—Å—Ç–æ–π –∏–Ω–∫–ª—é–¥ #}
{{ include('components/header.html.twig') }}

{# –ò–Ω–∫–ª—é–¥ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö #}
{{ include('components/post_card.html.twig', {
    'post': post,
    'show_excerpt': true
}) }}

{# –ò–Ω–∫–ª—é–¥ —Å —É—Å–ª–æ–≤–∏–µ–º #}
{% if user.is_admin %}
    {{ include('admin/panel.html.twig') }}
{% endif %}

{# –ò–Ω–∫–ª—é–¥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–∞–π–ª–∞ #}
{{ include('components/sidebar.html.twig', ignore_missing = true) }}</code></pre>
</div>
{% endraw %}

<div class="key-points">
<h4>üìÅ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–∫–ª—é–¥—ã:</h4>
<ul>
<li><strong>–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</strong> ‚Äî –∫–Ω–æ–ø–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏, —Ñ–æ—Ä–º—ã</li>
<li><strong>–ß–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</strong> ‚Äî header, footer, sidebar, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞</li>
<li><strong>–£—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏</strong> ‚Äî —Ä–µ–∫–ª–∞–º–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</li>
<li><strong>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã</strong> ‚Äî –≥–∞–ª–µ—Ä–µ–∏, —Å–ª–∞–π–¥–µ—Ä—ã, —Ñ–æ—Ä–º—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</li>
</ul>
</div>

<div class="note">
<p><strong>‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> Twig –∫—ç—à–∏—Ä—É–µ—Ç –∏–Ω–∫–ª—é–¥—ã, –ø–æ—ç—Ç–æ–º—É –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–Ω–∏–∂–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ù–∞–æ–±–æ—Ä–æ—Ç, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É.</p>
</div>
</div>

<div class="card">
<h3><span class="icon">üìä</span> –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ Twig</h3>

<p>Twig –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.</p>

{% raw %}
<div class="key-points">
<h4>üìù –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:</h4>
<pre><code>{# –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ #}
{{ post.title }}           {# –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ #}
{{ post.author.name }}     {# –í–ª–æ–∂–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø #}
{{ posts|length }}         {# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ #}
{{ posts[0].title }}       {# –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É #}

{# –†–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ #}
{{ user.getName() }}       {# –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ #}
{{ user.createdAt|date }}  {# –ú–µ—Ç–æ–¥ + —Ñ–∏–ª—å—Ç—Ä #}

{# –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è #}
{{ post.image ?? 'default.jpg' }}      {# –û–ø–µ—Ä–∞—Ç–æ—Ä null coalescing #}
{{ post.description|default('–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è') }}  {# –§–∏–ª—å—Ç—Ä default #}
{{ post.tags is defined ? post.tags : [] }}    {# –¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä #}</code></pre>
</div>
{% endraw %}

<div class="key-points">
<h4>üîÑ –¶–∏–∫–ª—ã –∏ —É—Å–ª–æ–≤–∏—è –≤ Twig:</h4>
{% raw %}
<pre><code>{# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ü–∏–∫–ª for #}
{% for post in posts %}
    {{ loop.index }}       {# –¢–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1) #}
    {{ loop.index0 }}      {# –¢–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0) #}
    {{ loop.first }}       {# true –¥–ª—è –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ #}
    {{ loop.last }}        {# true –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ #}
    {{ loop.length }}      {# –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ #}
    {{ loop.revindex }}    {# –û–±—Ä–∞—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å #}
    
    {# –ü—Ä–æ–ø—É—Å–∫ –∏—Ç–µ—Ä–∞—Ü–∏–π #}
    {% if loop.index is odd %}
        {# –ù–µ—á–µ—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã #}
    {% endif %}
{% else %}
    &lt;p&gt;–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Ç&lt;/p&gt; {# –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π #}
{% endfor %}

{# –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã #}
{% for category in categories %}
    &lt;h3&gt;{{ category.name }}&lt;/h3&gt;
    {% for post in category.posts %}
        {{ post.title }}
    {% endfor %}
{% endfor %}

{# –°–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è #}
{% if user.isActive and user.hasPosts %}
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω –∏ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—å–∏
{% elseif user.isActive or user.isAdmin %}
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω –∏–ª–∏ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º
{% else %}
    –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
{% endif %}</code></pre>
{% endraw %}
</div>
</div>
</section>

<section class="section practice">
<h2 class="section-title">üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (2 —á–∞—Å–∞)</h2>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º —É–ª—É—á—à–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫</h3>

<p>–ü–µ—Ä–µ–æ—Ä–≥–∞–Ω–∏–∑—É–µ–º –ø–∞–ø–∫—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –¥–ª—è –ª—É—á—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏:</p>

<div class="key-points">
<h4>üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤:</h4>
<pre><code>app/views/twig/
‚îú‚îÄ‚îÄ layout/                 # –ë–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ base.html.twig     # –û—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îÇ   ‚îî‚îÄ‚îÄ admin.html.twig    # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ components/            # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ header.html.twig   # –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ footer.html.twig   # –ü–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ sidebar.html.twig  # –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ post_card.html.twig # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç—å–∏
‚îÇ   ‚îî‚îÄ‚îÄ pagination.html.twig # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
‚îú‚îÄ‚îÄ pages/                 # –®–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ home.html.twig     # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ post/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ show.html.twig # –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—å–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ list.html.twig # –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ about.html.twig    # –û –±–ª–æ–≥–µ
‚îÇ   ‚îî‚îÄ‚îÄ contact.html.twig  # –ö–æ–Ω—Ç–∞–∫—Ç—ã
‚îú‚îÄ‚îÄ includes/              # –í–∫–ª—é—á–∞–µ–º—ã–µ —á–∞—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ head.html.twig     # –°–µ–∫—Ü–∏—è &lt;head&gt;
‚îÇ   ‚îú‚îÄ‚îÄ scripts.html.twig  # –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ meta.html.twig     # –ú–µ—Ç–∞-—Ç–µ–≥–∏
‚îî‚îÄ‚îÄ macros/                # –ú–∞–∫—Ä–æ—Å—ã (Twig-—Ñ—É–Ω–∫—Ü–∏–∏)
    ‚îî‚îÄ‚îÄ post.html.twig     # –ú–∞–∫—Ä–æ—Å—ã –¥–ª—è —Å—Ç–∞—Ç–µ–π</code></pre>
</div>

<ol>
<li>–°–æ–∑–¥–∞–π—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ</li>
<li>–ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏</li>
</ol>
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 2: –°–æ–∑–¥–∞–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω</h3>

<p>–û–±–Ω–æ–≤–∏—Ç–µ <code>app/views/twig/layout/base.html.twig</code>:</p>

{% raw %}
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="ru"&gt;
&lt;head&gt;
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–µ—Ç–∞-—Ç–µ–≥–∏ –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ #}
    {{ include('includes/meta.html.twig') }}
    
    {# –ë–ª–æ–∫ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
    &lt;title&gt;{% block title %}{{ site_name }}{% endblock %}&lt;/title&gt;
    
    {# –ë–ª–æ–∫ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–∞-—Ç–µ–≥–æ–≤ #}
    {% block meta %}{% endblock %}
    
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS —Å—Ç–∏–ª–∏ #}
    &lt;link rel="stylesheet" href="/css/main.css"&gt;
    
    {# –ë–ª–æ–∫ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
    {% block styles %}{% endblock %}
&lt;/head&gt;
&lt;body class="{% block body_class %}{% endblock %}"&gt;
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º —à–∞–ø–∫—É —Å–∞–π—Ç–∞ –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç #}
    {{ include('components/header.html.twig') }}
    
    &lt;div class="container"&gt;
        &lt;div class="row"&gt;
            {# –ë–ª–æ–∫ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ #}
            &lt;main class="col-md-9" role="main"&gt;
                {# –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ #}
                {% block breadcrumbs %}{% endblock %}
                
                {# –°–æ–æ–±—â–µ–Ω–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –æ—à–∏–±–∫–∏) #}
                {% block messages %}
                    {% if flash_messages is defined %}
                        {{ include('components/flash_messages.html.twig') }}
                    {% endif %}
                {% endblock %}
                
                {# –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
                {% block content %}
                    &lt;p&gt;–ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω&lt;/p&gt;
                {% endblock %}
            &lt;/main&gt;
            
            {# –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å #}
            &lt;aside class="col-md-3"&gt;
                {% block sidebar %}
                    {{ include('components/sidebar.html.twig') }}
                {% endblock %}
            &lt;/aside&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞ #}
    {{ include('components/footer.html.twig') }}
    
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã #}
    {{ include('includes/scripts.html.twig') }}
    
    {# –ë–ª–æ–∫ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
    {% block scripts %}{% endblock %}
    
    {# –ë–ª–æ–∫ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –∏ –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ #}
    {% block modals %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 3: –°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h3>

<p>1. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/components/header.html.twig</code>:</p>
{% raw %}
<pre><code>&lt;header class="site-header"&gt;
    &lt;nav class="navbar navbar-expand-lg navbar-dark bg-dark"&gt;
        &lt;div class="container"&gt;
            &lt;a class="navbar-brand" href="{{ url('home') }}"&gt;
                {{ site_name }}
            &lt;/a&gt;
            
            &lt;button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"&gt;
                &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
            &lt;/button&gt;
            
            &lt;div class="collapse navbar-collapse" id="navbarNav"&gt;
                &lt;ul class="navbar-nav me-auto"&gt;
                    {% set nav_items = [
                        {'name': '–ì–ª–∞–≤–Ω–∞—è', 'url': 'home', 'icon': 'üè†'},
                        {'name': '–ë–ª–æ–≥', 'url': 'posts', 'icon': 'üìù'},
                        {'name': '–û –±–ª–æ–≥–µ', 'url': 'about', 'icon': '‚ÑπÔ∏è'},
                        {'name': '–ö–æ–Ω—Ç–∞–∫—Ç—ã', 'url': 'contact', 'icon': 'üìû'}
                    ] %}
                    
                    {% for item in nav_items %}
                        &lt;li class="nav-item"&gt;
                            &lt;a class="nav-link {% if current_page == item.url %}active{% endif %}" 
                               href="{{ url(item.url) }}"&gt;
                                {{ item.icon }} {{ item.name }}
                            &lt;/a&gt;
                        &lt;/li&gt;
                    {% endfor %}
                &lt;/ul&gt;
                
                {# –ü–æ–∏—Å–∫ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å #}
                &lt;div class="d-flex"&gt;
                    &lt;form class="d-flex me-2" action="{{ url('search') }}" method="GET"&gt;
                        &lt;input class="form-control me-2" type="search" name="q" placeholder="–ü–æ–∏—Å–∫..."&gt;
                        &lt;button class="btn btn-outline-light" type="submit"&gt;–ù–∞–π—Ç–∏&lt;/button&gt;
                    &lt;/form&gt;
                    
                    {% if current_user is defined and current_user %}
                        &lt;div class="dropdown"&gt;
                            &lt;a class="btn btn-outline-light dropdown-toggle" href="#" role="button" 
                               data-bs-toggle="dropdown"&gt;
                                {{ current_user.name }}
                            &lt;/a&gt;
                            &lt;ul class="dropdown-menu"&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="{{ url('profile') }}"&gt;–ü—Ä–æ—Ñ–∏–ª—å&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="{{ url('logout') }}"&gt;–í—ã–π—Ç–∏&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                    {% else %}
                        &lt;a class="btn btn-outline-light" href="{{ url('login') }}"&gt;–í–æ–π—Ç–∏&lt;/a&gt;
                    {% endif %}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/nav&gt;
&lt;/header&gt;</code></pre>
{% endraw %}

<p>2. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/components/post_card.html.twig</code>:</p>
{% raw %}
<pre><code>{# 
    –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç—å–∏
    –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: post, show_excerpt (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true), class (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã)
#}

{% set show_excerpt = show_excerpt ?? true %}
{% set post_class = 'post-card ' ~ (class ?? '') %}

&lt;article class="{{ post_class|trim }}"&gt;
    &lt;div class="post-card-header"&gt;
        {# –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å—Ç–∞—Ç—å–∏ #}
        {% if post.category is defined and post.category %}
            &lt;span class="post-category badge bg-primary"&gt;
                {{ post.category.name }}
            &lt;/span&gt;
        {% endif %}
        
        {# –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ #}
        &lt;time class="post-date text-muted" datetime="{{ post.created_at }}"&gt;
            {{ post.created_at|date('d.m.Y H:i') }}
        &lt;/time&gt;
    &lt;/div&gt;
    
    &lt;h3 class="post-title"&gt;
        &lt;a href="{{ url('post_show', {'id': post.id}) }}"&gt;
            {{ post.title }}
        &lt;/a&gt;
    &lt;/h3&gt;
    
    {# –ê–≤—Ç–æ—Ä —Å—Ç–∞—Ç—å–∏ #}
    {% if post.author is defined and post.author %}
        &lt;div class="post-author"&gt;
            –ê–≤—Ç–æ—Ä: 
            {% if post.author.url %}
                &lt;a href="{{ post.author.url }}"&gt;{{ post.author.name }}&lt;/a&gt;
            {% else %}
                {{ post.author.name }}
            {% endif %}
        &lt;/div&gt;
    {% endif %}
    
    {# –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ #}
    {% if show_excerpt and post.excerpt is defined and post.excerpt %}
        &lt;div class="post-excerpt"&gt;
            {{ post.excerpt|truncate(200) }}
        &lt;/div&gt;
    {% endif %}
    
    {# –¢–µ–≥–∏ #}
    {% if post.tags is defined and post.tags|length > 0 %}
        &lt;div class="post-tags"&gt;
            {% for tag in post.tags %}
                &lt;a href="{{ url('tag', {'slug': tag.slug}) }}" class="tag"&gt;
                    #{{ tag.name }}
                &lt;/a&gt;
            {% endfor %}
        &lt;/div&gt;
    {% endif %}
    
    {# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ #}
    &lt;div class="post-stats"&gt;
        {% if post.views is defined %}
            &lt;span class="stat"&gt;üëÅÔ∏è {{ post.views }}&lt;/span&gt;
        {% endif %}
        
        {% if post.comments_count is defined %}
            &lt;span class="stat"&gt;üí¨ {{ post.comments_count }}&lt;/span&gt;
        {% endif %}
        
        {% if post.likes is defined %}
            &lt;span class="stat"&gt;üëç {{ post.likes }}&lt;/span&gt;
        {% endif %}
    &lt;/div&gt;
&lt;/article&gt;</code></pre>
{% endraw %}

<p>3. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/includes/meta.html.twig</code>:</p>
{% raw %}
<pre><code>&lt;meta charset="UTF-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
&lt;meta name="description" content="{% block meta_description %}–ë–ª–æ–≥ –æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ PHP –∏ Twig{% endblock %}"&gt;
&lt;meta name="keywords" content="{% block meta_keywords %}PHP, Twig, MVC, –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ{% endblock %}"&gt;
&lt;meta name="author" content="{{ site_name }}"&gt;

{# Open Graph –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π #}
&lt;meta property="og:title" content="{% block og_title %}{{ block('title') }}{% endblock %}"&gt;
&lt;meta property="og:description" content="{{ block('meta_description') }}"&gt;
&lt;meta property="og:type" content="website"&gt;
&lt;meta property="og:url" content="{{ app.request.uri }}"&gt;
&lt;meta property="og:image" content="{% block og_image %}/images/og-default.jpg{% endblock %}"&gt;
&lt;meta property="og:site_name" content="{{ site_name }}"&gt;

{# Twitter Card –º–µ—Ç–∞-—Ç–µ–≥–∏ #}
&lt;meta name="twitter:card" content="summary_large_image"&gt;
&lt;meta name="twitter:title" content="{{ block('title') }}"&gt;
&lt;meta name="twitter:description" content="{{ block('meta_description') }}"&gt;
&lt;meta name="twitter:image" content="{{ block('og_image') }}"&gt;

{# –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π URL #}
&lt;link rel="canonical" href="{% block canonical_url %}{{ app.request.uri }}{% endblock %}"&gt;

{# Favicon #}
&lt;link rel="icon" href="/favicon.ico" type="image/x-icon"&gt;
&lt;link rel="apple-touch-icon" href="/apple-touch-icon.png"&gt;</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 4: –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</h3>

<p>–û–±–Ω–æ–≤–∏—Ç–µ <code>app/views/twig/pages/home.html.twig</code>:</p>

{% raw %}
<pre><code>{# –ù–∞—Å–ª–µ–¥—É–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω #}
{% extends 'layout/base.html.twig' %}

{# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
{% block title %}–ì–ª–∞–≤–Ω–∞—è | {{ parent() }}{% endblock %}

{# –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è body #}
{% block body_class %}home-page{% endblock %}

{# –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞-–æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π #}
{% block meta_description %}
    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–ª–æ–≥ –æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! –ò–∑—É—á–∞–µ–º PHP, Twig, MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.
{% endblock %}

{# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç #}
{% block content %}
    &lt;div class="hero-section text-center mb-5"&gt;
        &lt;h1 class="display-4"&gt;–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –±–ª–æ–≥!&lt;/h1&gt;
        &lt;p class="lead"&gt;–ó–¥–µ—Å—å –º—ã –¥–µ–ª–∏–º—Å—è –∑–Ω–∞–Ω–∏—è–º–∏ –æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, PHP, Twig –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö.&lt;/p&gt;
        &lt;a href="{{ url('posts') }}" class="btn btn-primary btn-lg"&gt;–ß–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç—å–∏&lt;/a&gt;
    &lt;/div&gt;
    
    {# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏ #}
    {% if featured_posts is defined and featured_posts|length > 0 %}
        &lt;section class="featured-posts mb-5"&gt;
            &lt;h2 class="section-title"&gt;üî• –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏&lt;/h2&gt;
            &lt;div class="row"&gt;
                {% for post in featured_posts %}
                    &lt;div class="col-md-4 mb-4"&gt;
                        {{ include('components/post_card.html.twig', {
                            'post': post,
                            'class': 'featured'
                        }) }}
                    &lt;/div&gt;
                {% endfor %}
            &lt;/div&gt;
        &lt;/section&gt;
    {% endif %}
    
    {# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ #}
    &lt;section class="recent-posts"&gt;
        &lt;h2 class="section-title"&gt;üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏&lt;/h2&gt;
        
        {% if posts is defined and posts|length > 0 %}
            &lt;div class="row"&gt;
                {% for post in posts %}
                    {# –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫: –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö 2 –∫–æ–ª–æ–Ω–∫–∏, –Ω–∞ —Å—Ä–µ–¥–Ω–∏—Ö 2, –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö 1 #}
                    &lt;div class="col-lg-6 col-md-6 col-sm-12 mb-4"&gt;
                        {{ include('components/post_card.html.twig', {
                            'post': post,
                            'show_excerpt': true
                        }) }}
                    &lt;/div&gt;
                    
                    {# –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –≤—Ç–æ—Ä–æ–π —Å—Ç–∞—Ç—å–∏ #}
                    {% if loop.index is even and not loop.last %}
                        &lt;div class="w-100 d-none d-lg-block"&gt;&lt;/div&gt;
                    {% endif %}
                {% endfor %}
            &lt;/div&gt;
            
            {# –ü–∞–≥–∏–Ω–∞—Ü–∏—è, –µ—Å–ª–∏ –µ—Å—Ç—å #}
            {% if pagination is defined %}
                {{ include('components/pagination.html.twig', pagination) }}
            {% endif %}
        {% else %}
            &lt;div class="alert alert-info"&gt;
                –°—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ–∑–∂–µ!
            &lt;/div&gt;
        {% endif %}
    &lt;/section&gt;
    
    {# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
    {% if categories is defined and categories|length > 0 %}
        &lt;section class="categories mt-5"&gt;
            &lt;h2 class="section-title"&gt;üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏&lt;/h2&gt;
            &lt;div class="row"&gt;
                {% for category in categories %}
                    &lt;div class="col-md-3 col-sm-6 mb-3"&gt;
                        &lt;div class="card category-card"&gt;
                            &lt;div class="card-body text-center"&gt;
                                &lt;h5 class="card-title"&gt;{{ category.name }}&lt;/h5&gt;
                                &lt;p class="card-text"&gt;
                                    {{ category.post_count }} —Å—Ç–∞—Ç–µ–π
                                &lt;/p&gt;
                                &lt;a href="{{ url('category', {'slug': category.slug}) }}" 
                                   class="btn btn-outline-primary"&gt;
                                    –°–º–æ—Ç—Ä–µ—Ç—å
                                &lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                {% endfor %}
            &lt;/div&gt;
        &lt;/section&gt;
    {% endif %}
{% endblock %}

{# –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
{% block scripts %}
    {{ parent() }}
    &lt;script&gt;
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö —Å—Ç–∞—Ç–µ–π
        document.addEventListener('DOMContentLoaded', function() {
            const featuredPosts = document.querySelector('.featured-posts');
            if (featuredPosts) {
                console.log('–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, —Å–ª–∞–π–¥–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
            }
        });
    &lt;/script&gt;
{% endblock %}</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 5: –°–æ–∑–¥–∞–µ–º —à–∞–±–ª–æ–Ω –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–∏</h3>

<p>–°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/pages/post/show.html.twig</code>:</p>

{% raw %}
<pre><code>{# –®–∞–±–ª–æ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏ #}
{% extends 'layout/base.html.twig' %}

{% block title %}{{ post.title }} | {{ parent() }}{% endblock %}

{% block meta_description %}{{ post.excerpt|default(post.content|truncate(160)) }}{% endblock %}

{% block meta_keywords %}
    {% if post.tags is defined %}
        {{ post.tags|map(tag => tag.name)|join(', ') }}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}

{% block og_title %}{{ post.title }}{% endblock %}
{% block og_image %}{{ post.image|default('/images/og-default.jpg') }}{% endblock %}
{% block canonical_url %}{{ url('post_show', {'id': post.id}) }}{% endblock %}

{% block breadcrumbs %}
    &lt;nav aria-label="breadcrumb"&gt;
        &lt;ol class="breadcrumb"&gt;
            &lt;li class="breadcrumb-item"&gt;&lt;a href="{{ url('home') }}"&gt;–ì–ª–∞–≤–Ω–∞—è&lt;/a&gt;&lt;/li&gt;
            &lt;li class="breadcrumb-item"&gt;&lt;a href="{{ url('posts') }}"&gt;–ë–ª–æ–≥&lt;/a&gt;&lt;/li&gt;
            {% if post.category %}
                &lt;li class="breadcrumb-item"&gt;
                    &lt;a href="{{ url('category', {'slug': post.category.slug}) }}"&gt;
                        {{ post.category.name }}
                    &lt;/a&gt;
                &lt;/li&gt;
            {% endif %}
            &lt;li class="breadcrumb-item active" aria-current="page"&gt;{{ post.title|truncate(50) }}&lt;/li&gt;
        &lt;/ol&gt;
    &lt;/nav&gt;
{% endblock %}

{% block content %}
    &lt;article class="single-post"&gt;
        {# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ #}
        &lt;header class="post-header"&gt;
            {% if post.category %}
                &lt;span class="post-category badge bg-primary"&gt;
                    {{ post.category.name }}
                &lt;/span&gt;
            {% endif %}
            
            &lt;h1 class="post-title"&gt;{{ post.title }}&lt;/h1&gt;
            
            &lt;div class="post-meta"&gt;
                {# –ê–≤—Ç–æ—Ä –∏ –¥–∞—Ç–∞ #}
                &lt;div class="post-author-date"&gt;
                    {% if post.author %}
                        &lt;span class="post-author"&gt;
                            üë§ 
                            {% if post.author.url %}
                                &lt;a href="{{ post.author.url }}"&gt;{{ post.author.name }}&lt;/a&gt;
                            {% else %}
                                {{ post.author.name }}
                            {% endif %}
                        &lt;/span&gt;
                    {% endif %}
                    
                    &lt;span class="post-date"&gt;
                        üìÖ {{ post.created_at|date('d.m.Y H:i') }}
                    &lt;/span&gt;
                    
                    {% if post.updated_at and post.updated_at != post.created_at %}
                        &lt;span class="post-updated" title="–û–±–Ω–æ–≤–ª–µ–Ω–æ"&gt;
                            ‚úèÔ∏è {{ post.updated_at|date('d.m.Y H:i') }}
                        &lt;/span&gt;
                    {% endif %}
                &lt;/div&gt;
                
                {# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ #}
                &lt;div class="post-stats"&gt;
                    {% if post.views is defined %}
                        &lt;span class="stat" title="–ü—Ä–æ—Å–º–æ—Ç—Ä—ã"&gt;üëÅÔ∏è {{ post.views }}&lt;/span&gt;
                    {% endif %}
                    
                    {% if post.reading_time is defined %}
                        &lt;span class="stat" title="–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è"&gt;‚è±Ô∏è {{ post.reading_time }} –º–∏–Ω.&lt;/span&gt;
                    {% endif %}
                &lt;/div&gt;
            &lt;/div&gt;
            
            {# –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ #}
            {% if post.image %}
                &lt;div class="post-image"&gt;
                    &lt;img src="{{ post.image }}" alt="{{ post.title }}" class="img-fluid rounded"&gt;
                    {% if post.image_caption %}
                        &lt;div class="image-caption text-muted"&gt;{{ post.image_caption }}&lt;/div&gt;
                    {% endif %}
                &lt;/div&gt;
            {% endif %}
        &lt;/header&gt;
        
        {# –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞—Ç—å–∏ #}
        &lt;div class="post-content"&gt;
            {{ post.content|raw }}
        &lt;/div&gt;
        
        {# –¢–µ–≥–∏ —Å—Ç–∞—Ç—å–∏ #}
        {% if post.tags is defined and post.tags|length > 0 %}
            &lt;footer class="post-footer"&gt;
                &lt;div class="post-tags"&gt;
                    &lt;strong&gt;–¢–µ–≥–∏:&lt;/strong&gt;
                    {% for tag in post.tags %}
                        &lt;a href="{{ url('tag', {'slug': tag.slug}) }}" class="tag badge bg-secondary"&gt;
                            #{{ tag.name }}
                        &lt;/a&gt;
                    {% endfor %}
                &lt;/div&gt;
                
                {# –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π #}
                &lt;div class="post-actions mt-3"&gt;
                    &lt;button class="btn btn-outline-primary btn-sm" onclick="window.print()"&gt;
                        üñ®Ô∏è –ü–µ—á–∞—Ç—å
                    &lt;/button&gt;
                    &lt;button class="btn btn-outline-secondary btn-sm" id="share-button"&gt;
                        üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                    &lt;/button&gt;
                    &lt;a href="#comments" class="btn btn-outline-success btn-sm"&gt;
                        üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ({{ post.comments_count|default(0) }})
                    &lt;/a&gt;
                &lt;/div&gt;
            &lt;/footer&gt;
        {% endif %}
    &lt;/article&gt;
    
    {# –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—å—è–º #}
    {% if prev_post or next_post %}
        &lt;nav class="post-navigation mt-5"&gt;
            &lt;div class="row"&gt;
                {% if prev_post %}
                    &lt;div class="col-md-6"&gt;
                        &lt;div class="card"&gt;
                            &lt;div class="card-body"&gt;
                                &lt;small class="text-muted"&gt;–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è&lt;/small&gt;
                                &lt;h5 class="card-title"&gt;{{ prev_post.title }}&lt;/h5&gt;
                                &lt;a href="{{ url('post_show', {'id': prev_post.id}) }}" class="btn btn-link"&gt;
                                    ‚Üê –ß–∏—Ç–∞—Ç—å
                                &lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                {% endif %}
                
                {% if next_post %}
                    &lt;div class="col-md-6"&gt;
                        &lt;div class="card"&gt;
                            &lt;div class="card-body text-end"&gt;
                                &lt;small class="text-muted"&gt;–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è&lt;/small&gt;
                                &lt;h5 class="card-title"&gt;{{ next_post.title }}&lt;/h5&gt;
                                &lt;a href="{{ url('post_show', {'id': next_post.id}) }}" class="btn btn-link"&gt;
                                    –ß–∏—Ç–∞—Ç—å ‚Üí
                                &lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                {% endif %}
            &lt;/div&gt;
        &lt;/nav&gt;
    {% endif %}
    
    {# –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏ #}
    {% if related_posts is defined and related_posts|length > 0 %}
        &lt;section class="related-posts mt-5"&gt;
            &lt;h3&gt;üìö –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏&lt;/h3&gt;
            &lt;div class="row"&gt;
                {% for related in related_posts %}
                    &lt;div class="col-md-4 mb-3"&gt;
                        {{ include('components/post_card.html.twig', {
                            'post': related,
                            'show_excerpt': false
                        }) }}
                    &lt;/div&gt;
                {% endfor %}
            &lt;/div&gt;
        &lt;/section&gt;
    {% endif %}
    
    {# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ) #}
    &lt;section id="comments" class="comments mt-5"&gt;
        &lt;h3&gt;üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏&lt;/h3&gt;
        &lt;p class="text-muted"&gt;–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ.&lt;/p&gt;
    &lt;/section&gt;
{% endblock %}

{% block sidebar %}
    {# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∞–π–¥–±–∞—Ä –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ç—å–∏ #}
    &lt;div class="sidebar-widget"&gt;
        &lt;h4&gt;üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–∞—Ç—å–∏&lt;/h4&gt;
        &lt;ul class="list-group"&gt;
            {% if post.views is defined %}
                &lt;li class="list-group-item d-flex justify-content-between"&gt;
                    –ü—Ä–æ—Å–º–æ—Ç—Ä—ã
                    &lt;span class="badge bg-primary rounded-pill"&gt;{{ post.views }}&lt;/span&gt;
                &lt;/li&gt;
            {% endif %}
            {% if post.comments_count is defined %}
                &lt;li class="list-group-item d-flex justify-content-between"&gt;
                    –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                    &lt;span class="badge bg-success rounded-pill"&gt;{{ post.comments_count }}&lt;/span&gt;
                &lt;/li&gt;
            {% endif %}
            {% if post.likes is defined %}
                &lt;li class="list-group-item d-flex justify-content-between"&gt;
                    –õ–∞–π–∫–∏
                    &lt;span class="badge bg-danger rounded-pill"&gt;{{ post.likes }}&lt;/span&gt;
                &lt;/li&gt;
            {% endif %}
        &lt;/ul&gt;
    &lt;/div&gt;
    
    {# –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö #}
    &lt;div class="sidebar-widget mt-4"&gt;
        &lt;h4&gt;üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è&lt;/h4&gt;
        &lt;div class="social-share"&gt;
            &lt;button class="btn btn-outline-primary btn-sm me-1"&gt;Facebook&lt;/button&gt;
            &lt;button class="btn btn-outline-info btn-sm me-1"&gt;Twitter&lt;/button&gt;
            &lt;button class="btn btn-outline-danger btn-sm"&gt;VK&lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    {{ parent() }} {# –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∞–π–¥–±–∞—Ä #}
{% endblock %}

{% block scripts %}
    {{ parent() }}
    &lt;script&gt;
        // –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
        document.getElementById('share-button').addEventListener('click', function() {
            if (navigator.share) {
                navigator.share({
                    title: '{{ post.title }}',
                    text: '{{ post.excerpt|default("") }}',
                    url: window.location.href
                });
            } else {
                // –§–æ–ª–±—ç–∫ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                navigator.clipboard.writeText(window.location.href);
                alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }
        });
        
        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞ –≤ —Å—Ç–∞—Ç—å–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
        });
    &lt;/script&gt;
{% endblock %}</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 6: –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</h3>

<p>–û–±–Ω–æ–≤–∏—Ç–µ <code>app/controllers/HomeController.php</code> –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</p>

<pre><code>&lt;?php
// app/controllers/HomeController.php

namespace App\Controllers;

class HomeController
{
    private $twig;
    
    public function __construct(\Twig\Environment $twig)
    {
        $this->twig = $twig;
    }
    
    public function index()
    {
        // –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        $data = [
            'current_page' => 'home',
            'title' => '–ì–ª–∞–≤–Ω–∞—è | MVC –ë–ª–æ–≥ —Å Twig',
            
            // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏
            'featured_posts' => [
                [
                    'id' => 1,
                    'title' => '–í–≤–µ–¥–µ–Ω–∏–µ –≤ Twig: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤',
                    'excerpt' => '–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è Twig –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∏—Å—Ç—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.',
                    'content' => '–ü–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏...',
                    'created_at' => '2026-01-01 10:30:00',
                    'author' => ['name' => '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', 'url' => '/author/1'],
                    'category' => ['name' => 'Twig', 'slug' => 'twig'],
                    'views' => 150,
                    'comments_count' => 5,
                    'likes' => 42,
                    'image' => '/images/twig-intro.jpg',
                    'tags' => [
                        ['name' => 'Twig', 'slug' => 'twig'],
                        ['name' => '–®–∞–±–ª–æ–Ω—ã', 'slug' => 'templates']
                    ]
                ],
                // ... –¥—Ä—É–≥–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
            ],
            
            // –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
            'posts' => [
                [
                    'id' => 2,
                    'title' => 'MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
                    'excerpt' => '–†–∞–∑–±–∏—Ä–∞–µ–º –ø—Ä–∏–Ω—Ü–∏–ø—ã Model-View-Controller –Ω–∞ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö.',
                    'created_at' => '2026-01-02 14:20:00',
                    'author' => ['name' => '–ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞'],
                    'views' => 89,
                    'comments_count' => 3
                ],
                [
                    'id' => 3,
                    'title' => '–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤ PHP',
                    'excerpt' => '–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ PDO –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º.',
                    'created_at' => '2026-01-03 09:15:00',
                    'author' => ['name' => '–ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤'],
                    'views' => 120,
                    'comments_count' => 7
                ],
                // ... –±–æ–ª—å—à–µ —Å—Ç–∞—Ç–µ–π
            ],
            
            // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª–æ–≥–∞
            'categories' => [
                ['name' => 'PHP', 'slug' => 'php', 'post_count' => 15],
                ['name' => 'Twig', 'slug' => 'twig', 'post_count' => 8],
                ['name' => '–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö', 'slug' => 'databases', 'post_count' => 12],
                ['name' => '–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞', 'slug' => 'webdev', 'post_count' => 25]
            ],
            
            // –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
            'pagination' => [
                'current' => 1,
                'total' => 5,
                'path' => '/?page=home'
            ],
            
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∑–∞–≥–ª—É—à–∫–∞)
            'current_user' => null
        ];
        
        echo $this->twig->render('pages/home.html.twig', $data);
    }
    
    public function postShow($id)
    {
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–∏ (–∑–∞–≥–ª—É—à–∫–∞)
        $data = [
            'current_page' => 'post',
            'post' => [
                'id' => $id,
                'title' => '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Twig: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –±–ª–æ–∫–∏ –∏ –∏–Ω–∫–ª—é–¥—ã',
                'excerpt' => '–ò—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º Twig —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞.',
                'content' => '&lt;h2&gt;–í–≤–µ–¥–µ–Ω–∏–µ&lt;/h2&gt;
                            &lt;p&gt;Twig ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è PHP...&lt;/p&gt;
                            &lt;h2&gt;–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤&lt;/h2&gt;
                            &lt;p&gt;–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Twig...&lt;/p&gt;
                            &lt;pre&gt;&lt;code class="php"&gt;
                            // –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞
                            $twig-&gt;render(\'template.html.twig\', $data);
                            &lt;/code&gt;&lt;/pre&gt;',
                'created_at' => '2026-01-01 10:30:00',
                'updated_at' => '2026-01-02 11:45:00',
                'author' => ['name' => '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', 'url' => '/author/1'],
                'category' => ['name' => 'Twig', 'slug' => 'twig'],
                'views' => 250,
                'reading_time' => 8,
                'comments_count' => 15,
                'likes' => 78,
                'image' => '/images/twig-guide.jpg',
                'image_caption' => 'Twig - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è PHP',
                'tags' => [
                    ['name' => 'Twig', 'slug' => 'twig'],
                    ['name' => 'PHP', 'slug' => 'php'],
                    ['name' => '–®–∞–±–ª–æ–Ω—ã', 'slug' => 'templates'],
                    ['name' => '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞', 'slug' => 'development']
                ]
            ],
            
            // –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏
            'related_posts' => [
                [
                    'id' => 4,
                    'title' => '–§–∏–ª—å—Ç—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Twig',
                    'excerpt' => '–ò–∑—É—á–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏ —Å–æ–∑–¥–∞–µ–º —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã.',
                    'created_at' => '2026-01-04 16:40:00',
                    'views' => 95
                ],
                // ... –¥—Ä—É–≥–∏–µ –ø–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏
            ],
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—å—è–º
            'prev_post' => [
                'id' => $id - 1,
                'title' => '–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è: –í–≤–µ–¥–µ–Ω–∏–µ –≤ MVC'
            ],
            'next_post' => $id < 10 ? [
                'id' => $id + 1,
                'title' => '–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è: –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏ –≤ Twig'
            ] : null,
            
            'current_user' => null
        ];
        
        echo $this->twig->render('pages/post/show.html.twig', $data);
    }
    
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
}</code></pre>
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –±–ª–æ–≥–∞</h3>

<ol>
<li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
<pre><code>http://localhost/mvc_blog/public/?page=home</code></pre>
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
<ul>
<li>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
<li>–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (header, footer, sidebar) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è</li>
<li>–ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç post_card</li>
<li>–ú–µ—Ç–∞-—Ç–µ–≥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã</li>
</ul>
</li>

<li>–°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç—å–∏:
<pre><code>// –î–æ–±–∞–≤—å—Ç–µ –≤ public/index.php
case 'post':
    $controller = 'App\\Controllers\\HomeController';
    $action = 'postShow';
    $id = $_GET['id'] ?? 1;
    $controllerInstance = new $controller($twig);
    $controllerInstance->$action($id);
    break;</code></pre>
</li>

<li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç–∞—Ç—å–∏:
<pre><code>http://localhost/mvc_blog/public/?page=post&id=1</code></pre>
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
<ul>
<li>–ë–ª–æ–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è</li>
<li>–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç</li>
<li>–°–∞–π–¥–±–∞—Ä –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ç—å–∏</li>
<li>–ú–µ—Ç–∞-—Ç–µ–≥–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è —Å—Ç–∞—Ç—å–∏</li>
<li>–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—å—è–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</li>
</ul>
</li>

<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü (Ctrl+U):
<ul>
<li>HTML —á–∏—Å—Ç—ã–π, –±–µ–∑ PHP —Ç–µ–≥–æ–≤</li>
<li>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–∞–∑–æ–≤–æ–º—É —à–∞–±–ª–æ–Ω—É</li>
<li>–°–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
</ul>
</li>
</ol>

<div class="note">
<p><strong>üîç –í–∞–∂–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ:</strong> –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ Twig –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –í —Å—Ç–∞—Ç—å–µ —Å —Ç–µ–≥–æ–º <code>&lt;script&gt;</code> –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, —Ç–µ–≥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç, –∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è!</p>
</div>
</div>

<div class="task">
<h3><span class="icon">üß™</span> –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω–∫–ª—é–¥–∞–º–∏</h3>

<div class="key-points">
<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</h4>
<ol>
<li>–°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/layout/admin.html.twig</code>:
{% raw %}
<pre><code>{# –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ #}
{% extends 'layout/base.html.twig' %}

{% block body_class %}{{ parent() }} admin-panel{% endblock %}

{% block header %}
    {# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —à–∞–ø–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ #}
    &lt;header class="admin-header"&gt;
        &lt;nav&gt;
            &lt;a href="{{ url('admin_dashboard') }}"&gt;–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è&lt;/a&gt;
            &lt;a href="{{ url('admin_posts') }}"&gt;–°—Ç–∞—Ç—å–∏&lt;/a&gt;
            &lt;a href="{{ url('admin_users') }}"&gt;–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏&lt;/a&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
{% endblock %}

{% block sidebar %}
    {# –°–∞–π–¥–±–∞—Ä –∞–¥–º–∏–Ω–∫–∏ #}
    {{ include('admin/components/sidebar.html.twig') }}
{% endblock %}

{% block footer %}
    {# –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ—É—Ç–µ—Ä –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ #}
    &lt;footer class="admin-footer"&gt;
        &lt;p&gt;–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å &copy; {{ current_year }}&lt;/p&gt;
    &lt;/footer&gt;
{% endblock %}</code></pre>
{% endraw %}
</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ –¥–æ—á–µ—Ä–Ω–∏–π —à–∞–±–ª–æ–Ω: <code>admin/dashboard.html.twig</code></li>
<li>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è</li>
</ol>

<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –°–æ–∑–¥–∞–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–∞–π–¥–±–∞—Ä</h4>
<ol>
<li>–í –±–∞–∑–æ–≤–æ–º —à–∞–±–ª–æ–Ω–µ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –≤ –∏–Ω–∫–ª—é–¥:
{% raw %}
<pre><code>{{ include('components/sidebar.html.twig', {
    'widgets': ['categories', 'popular_posts', 'tags_cloud']
}) }}</code></pre>
{% endraw %}
</li>
<li>–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å–∞–π–¥–±–∞—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, –∫–∞–∫–∏–µ –≤–∏–¥–∂–µ—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å</li>
<li>–†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –≤–∏–¥–∂–µ—Ç–æ–≤</li>
</ol>

<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–∫—Ä–æ—Å—ã –¥–ª—è —Ñ–æ—Ä–º</h4>
<ol>
<li>–°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/macros/form.html.twig</code>:
{% raw %}
<pre><code>{# –ú–∞–∫—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã #}
{% macro input(name, value = '', type = 'text', class = '') %}
    &lt;input type="{{ type }}" 
           name="{{ name }}" 
           value="{{ value }}" 
           class="form-control {{ class }}"
           id="{{ name }}"&gt;
{% endmacro %}

{% macro textarea(name, value = '', rows = 5, class = '') %}
    &lt;textarea name="{{ name }}" 
              class="form-control {{ class }}"
              rows="{{ rows }}"
              id="{{ name }}"&gt;{{ value }}&lt;/textarea&gt;
{% endmacro %}</code></pre>
{% endraw %}
</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —à–∞–±–ª–æ–Ω–µ:
{% raw %}
<pre><code>{% import 'macros/form.html.twig' as form %}

{{ form.input('username', user.username) }}
{{ form.textarea('bio', user.bio, 3) }}</code></pre>
{% endraw %}
</li>
</ol>
</div>
</div>
</section>

<section class="section">
<h2 class="section-title">üìã –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>

<div class="homework">
<h3><span class="icon">‚úèÔ∏è</span> –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å 3</h3>

<ol>
<li>–†–µ–æ—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —à–∞–±–ª–æ–Ω–æ–≤ –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —É—Ä–æ–∫–µ</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–ª–æ–∫–æ–≤:
<ul>
<li>–ú–∏–Ω–∏–º—É–º 6 –±–ª–æ–∫–æ–≤ (title, content, sidebar, scripts, styles, meta)</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>parent()</code> –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</li>
</ul>
</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∏–Ω–∫–ª—é–¥–∞):
<ul>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç "–ø–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞" —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –∏ —Å–æ—Ü—Å–µ—Ç—è–º–∏</li>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç "—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏" —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏</li>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç "–ø–∞–≥–∏–Ω–∞—Ü–∏—è" —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</li>
</ul>
</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π (<code>posts.html.twig</code>):
<ul>
<li>–ù–∞—Å–ª–µ–¥—É–µ—Ç –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç post_card –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏</li>
<li>–ò–º–µ–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é (–º–æ–∂–Ω–æ –∑–∞–≥–ª—É—à–∫—É)</li>
<li>–ò–º–µ–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –¥–∞—Ç–∞–º</li>
</ul>
</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–û –±–ª–æ–≥–µ" (<code>about.html.twig</code>):
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–∞–∫–µ—Ç (–¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π)</li>
<li>–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ –∏ –∫–æ–º–∞–Ω–¥–µ</li>
<li>–ò–º–µ–µ—Ç –±–ª–æ–∫ "–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞" —Å –∏–∫–æ–Ω–∫–∞–º–∏</li>
</ul>
</li>
<li><strong>–ë–æ–Ω—É—Å:</strong> –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω –¥–ª—è 404 –æ—à–∏–±–∫–∏ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º, –Ω–æ —Å–≤–æ–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º</li>
<li><strong>–ë–æ–Ω—É—Å 2:</strong> –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–ª—è —Å–∞–π–¥–±–∞—Ä–∞, –≥–¥–µ —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–≥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –≤–∏–¥–∂–µ—Ç–æ–≤</li>
</ol>
</div>
</section>

<section class="section">
<h2 class="section-title">üß† –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è</h2>

<div class="quiz">
<h3><span class="icon">‚ùì</span> –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</h3>

<ol>
<li>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ Twig –∏ —á–µ–º –æ–Ω–∞ –ª—É—á—à–µ –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω–∫–ª—é–¥–æ–≤?</li>
<li>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è <code>parent()</code> –∏ –∫–æ–≥–¥–∞ –µ—ë –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</li>
<li>–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è <code>include</code> –æ—Ç <code>extends</code> –≤ Twig?</li>
<li>–ö–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∏–Ω–∫–ª—é–¥–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?</li>
<li>–ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–µ—Ç —Ä–∞–∑–±–∏–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?</li>
<li>–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–∞–π–¥–±–∞—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü?</li>
<li>–ß—Ç–æ —Ç–∞–∫–æ–µ –±–ª–æ–∫–∏ –≤ Twig –∏ –∫–∞–∫ –æ–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤?</li>
<li>–ö–∞–∫ Twig –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –≤ –¥–æ—á–µ—Ä–Ω–µ–º —à–∞–±–ª–æ–Ω–µ?</li>
</ol>

<button onclick="toggleAnswers()" class="button button--primary" style="margin-top: 20px;">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>

<div id="answers" style="display: none; margin-top: 20px; padding: 20px; background: var(--light-color); border-radius: var(--border-radius); border-left: 4px solid var(--primary-color);">
<h4>–û—Ç–≤–µ—Ç—ã:</h4>
<ol>
<li>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é: –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –¥–æ—á–µ—Ä–Ω–∏–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –±–ª–æ–∫–∏. –≠—Ç–æ –ª—É—á—à–µ –∏–Ω–∫–ª—é–¥–æ–≤, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–µ—Ç–∫—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∏ –∏–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.</li>
<li><code>parent()</code> –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–ª–æ–∫–∞ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —à–∞–±–ª–æ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ-—Ç–æ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Ä–æ–¥–∏—Ç–µ–ª—è, –∞ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ.</li>
<li><code>extends</code> ‚Äî –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, <code>include</code> ‚Äî –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. <code>extends</code> –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω, <code>include</code> ‚Äî —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ.</li>
<li>–í—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º: <code>{{ include('component.html.twig', {'var': value}) }}</code></li>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, —É–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ, –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</li>
<li>–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–ª–æ–∫ sidebar –≤ –¥–æ—á–µ—Ä–Ω–µ–º —à–∞–±–ª–æ–Ω–µ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∏–Ω–∫–ª—é–¥ —Å–∞–π–¥–±–∞—Ä–∞.</li>
<li>–ë–ª–æ–∫–∏ ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ —à–∞–±–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.</li>
<li>–ï—Å–ª–∏ –±–ª–æ–∫ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–ª–æ–∫–∞ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ (–∏–ª–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ –Ω–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ).</li>
</ol>
</div>
</div>
</section>

<section class="section tips">
<h2 class="section-title">üí° –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ Twig</h2>

<div class="tips-grid">
<div class="tip-card">
<div class="tip-icon">üèóÔ∏è</div>
<h3>–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—é —à–∞–±–ª–æ–Ω–æ–≤</h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ —Å—Ö–µ–º—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä: base ‚Üí layout ‚Üí section ‚Üí page. –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üß©</div>
<h3>–î–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h3>
<p>–†–∞–∑–±–∏–≤–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å –æ–¥–Ω—É –≤–µ—â—å –∏ –¥–µ–ª–∞—Ç—å –µ—ë —Ö–æ—Ä–æ—à–æ.</p>
</div>

<div class="tip-card">
<div class="tip-icon">‚ö°</div>
<h3>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤</h3>
<p>–î–ª—è —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–∏—Ö—Å—è –±–ª–æ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: {% raw %}<code>{% cache 'block_name' 3600 %}...{% endcache %}</code>{% endraw %}. –≠—Ç–æ —É—Å–∫–æ—Ä–∏—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üîß</div>
<h3>–°–æ–∑–¥–∞–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –º–∞–∫—Ä–æ—Å–æ–≤</h3>
<p>–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, —Ñ–æ—Ä–º—ã, –∞–ª–µ—Ä—Ç—ã) –≤—ã–Ω–æ—Å–∏—Ç–µ –≤ –º–∞–∫—Ä–æ—Å—ã. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üì±</div>
<h3>–£—á–∏—Ç—ã–≤–∞–π—Ç–µ mobile-first</h3>
<p>–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —Å–Ω–∞—á–∞–ª–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö, –∑–∞—Ç–µ–º –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤. Twig –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å CSS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üîç</div>
<h3>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –¥–ª—è SEO</h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–æ–∫–∏ –¥–ª—è –º–µ—Ç–∞-—Ç–µ–≥–æ–≤, Open Graph –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ.</p>
</div>
</div>
</section>

<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è
function generateTableOfContents() {
    const headings = document.querySelectorAll('.section-title, .card h3');
    const tocList = document.getElementById('toc-list');
    
    if (!tocList || headings.length === 0) return;
    
    tocList.innerHTML = '';
    
    headings.forEach((heading, index) => {
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        if (heading.textContent.includes('‚ùì') || heading.textContent.includes('‚úèÔ∏è')) return;
        
        // –°–æ–∑–¥–∞–µ–º ID –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
        let headingId = heading.id;
        if (!headingId) {
            headingId = 'heading-' + index;
            heading.id = headingId;
        }
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º
        let level = 2;
        if (heading.classList.contains('section-title')) {
            level = 1;
        } else if (heading.closest('.card')) {
            level = 3;
        }
        
        // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
        const li = document.createElement('li');
        li.className = `toc-item toc-level-${level}`;
        
        const a = document.createElement('a');
        a.href = `#${headingId}`;
        a.className = 'toc-link';
        a.textContent = heading.textContent.replace(/[üìöüíªüí°üéØüõ†Ô∏è‚úçÔ∏èüèóÔ∏èüìêüõ£Ô∏è‚öôÔ∏è]/g, '').trim();
        
        a.addEventListener('click', function(e) {
            e.preventDefault();
            closeTOC();
            
            // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É
            const target = document.getElementById(headingId);
            if (target) {
                const headerOffset = 80;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
        
        li.appendChild(a);
        tocList.appendChild(li);
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º
function openTOC() {
    const modal = document.getElementById('toc-modal');
    if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }
}

function closeTOC() {
    const modal = document.getElementById('toc-modal');
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function createTOCElements() {
    // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
    const toggleBtn = document.createElement('button');
    toggleBtn.className = 'toc-toggle';
    toggleBtn.id = 'toc-toggle';
    toggleBtn.innerHTML = 'üìë';
    toggleBtn.title = '–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞';
    toggleBtn.addEventListener('click', openTOC);
    document.body.appendChild(toggleBtn);
    
    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.createElement('div');
    modal.className = 'toc-modal';
    modal.id = 'toc-modal';
    
    modal.innerHTML = `
        <div class="toc-content">
            <button class="toc-close" id="toc-close">√ó</button>
            <h2 style="color: var(--primary-color); margin-bottom: 20px;">–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞</h2>
            <ul class="toc-list" id="toc-list"></ul>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
    document.getElementById('toc-close').addEventListener('click', closeTOC);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeTOC();
        }
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeTOC();
        }
    });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è
    createTOCElements();
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
    generateTableOfContents();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    let lastScrollTop = 0;
    const tocBtn = document.getElementById('toc-toggle');
    
    window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–Ω–∏–∑, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö
        if (scrollTop > lastScrollTop && scrollTop > 100) {
            tocBtn.style.opacity = '0.6';
            tocBtn.style.transform = 'translateY(-10px)';
        } else {
            tocBtn.style.opacity = '1';
            tocBtn.style.transform = 'translateY(0)';
        }
        
        lastScrollTop = scrollTop;
    });
});

function toggleAnswers() {
const answers = document.getElementById('answers');
const button = event.target;

if (answers.style.display === 'none') {
answers.style.display = 'block';
button.textContent = '–°–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã';
} else {
answers.style.display = 'none';
button.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã';
}
}

// –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
document.addEventListener('DOMContentLoaded', function() {
const codeBlocks = document.querySelectorAll('pre code');

codeBlocks.forEach(block => {
block.addEventListener('click', function() {
const range = document.createRange();
range.selectNodeContents(this);
const selection = window.getSelection();
selection.removeAllRanges();
selection.addRange(range);

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
const tooltip = document.createElement('div');
tooltip.textContent = '–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞';
tooltip.style.cssText = `
position: fixed;
bottom: 20px;
right: 20px;
background: var(--primary-color);
color: white;
padding: 10px 20px;
border-radius: var(--border-radius);
z-index: 1000;
animation: fadeInOut 2s ease;
`;

document.body.appendChild(tooltip);

// –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç
navigator.clipboard.writeText(block.textContent).then(() => {
setTimeout(() => tooltip.remove(), 2000);
});
});

// –ú–µ–Ω—è–µ–º –∫—É—Ä—Å–æ—Ä –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
block.style.cursor = 'pointer';
block.title = '–ö–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥';
});
});

// –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —è–∫–æ—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
anchor.addEventListener('click', function(e) {
e.preventDefault();
const target = document.querySelector(this.getAttribute('href'));
if (target) {
target.scrollIntoView({
behavior: 'smooth',
block: 'start'
});
}
});
});
</script>