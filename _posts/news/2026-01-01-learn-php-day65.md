---
layout: news
name: "–î–µ–Ω—å 65: –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä Twig ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ"
title: "PHP –æ–±—É—á–µ–Ω–∏–µ: –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –î–µ–Ω—å 65 - –í–Ω–µ–¥—Ä—è–µ–º Twig –≤ –Ω–∞—à MVC –±–ª–æ–≥"
description: "–ò–∑—É—á–∞–µ–º —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä Twig: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ Composer, –∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º, –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞—à–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–∞ Twig –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤."
date: 2025-12-30
image: "/assets/images/news/6f00b46434c034e68ae8e435980c9ea5.jpg"
category: php
news_id: 9d6akk880j6tefd5
---
<div class="goal-box">
<h2 class="goal-title">üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
<p>–ü–æ–Ω—è—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤, –Ω–∞—É—á–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Twig —á–µ—Ä–µ–∑ Composer, –æ—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Twig –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–∞—à MVC-–±–ª–æ–≥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏ —É–¥–æ–±–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤.</p>
</div>

<section class="section theory">
<h2 class="section-title">üìö –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (40 –º–∏–Ω—É—Ç)</h2>

<div class="card">
<h3><span class="icon">ü§î</span> –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—ã?</h3>

<p>–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ –º—ã —É–∂–µ —Ä–∞–∑–¥–µ–ª–∏–ª–∏ –ª–æ–≥–∏–∫—É –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é MVC. –ù–æ –Ω–∞—à–∏ PHP-—à–∞–±–ª–æ–Ω—ã –≤—Å–µ –µ—â–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–¥ –≤—Ä–æ–¥–µ <code>&lt;?php echo htmlspecialchars(...); ?&gt;</code>. –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—ã —Ä–µ—à–∞—é—Ç —ç—Ç—É –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.</p>

<div class="key-points">
<h4>üîç –ü—Ä–æ–±–ª–µ–º—ã "—á–∏—Å—Ç–æ–≥–æ" PHP –≤ —à–∞–±–ª–æ–Ω–∞—Ö:</h4>
<ul>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> ‚Äî –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –ø—Ä–æ <code>htmlspecialchars()</code> (XSS-—É—è–∑–≤–∏–º–æ—Å—Ç–∏)</li>
<li><strong>–°–ª–æ–∂–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</strong> ‚Äî –º–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏—Ö/–∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö —Ç–µ–≥–æ–≤ PHP</li>
<li><strong>–ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</strong> ‚Äî —Å–ª–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã (layout)</li>
<li><strong>–°–º–µ—à–∏–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏</strong> ‚Äî –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–æ–±–ª–∞–∑–Ω –¥–æ–±–∞–≤–∏—Ç—å PHP-–∫–æ–¥ –≤ —à–∞–±–ª–æ–Ω—ã</li>
<li><strong>–ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî PHP –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω—ã</li>
</ul>
</div>

<div class="note">
<p><strong>üí° –†–µ–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è:</strong> –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –ø–∏—à–µ—Ç–µ –ø–∏—Å—å–º–æ —á–µ—Ä–Ω–∏–ª–∞–º–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É (PHP –≤ —à–∞–±–ª–æ–Ω–∞—Ö). –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏, –∞–≤—Ç–æ–∑–∞–º–µ–Ω–æ–π –∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.</p>
</div>
</div>

<div class="card">
<h3><span class="icon">üöÄ</span> –ß—Ç–æ —Ç–∞–∫–æ–µ Twig –∏ –µ–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
<p>Twig ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è PHP, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ Symfony. –û–Ω –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω—ã –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PHP-–∫–æ–¥.</p>

<div class="comparison-table table--hover">
<table>
<caption>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ PHP –∏ Twig –≤ —à–∞–±–ª–æ–Ω–∞—Ö</caption>
<thead>
<tr>
<th>–ó–∞–¥–∞—á–∞</th>
<th>PHP –≤ —à–∞–±–ª–æ–Ω–µ</th>
<th>Twig</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>–í—ã–≤–æ–¥ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π</strong></td>
<td><code>&lt;?php echo htmlspecialchars($title); ?&gt;</code></td>
<td><code>{{ title }}</code></td>
</tr>
<tr>
<td><strong>–¶–∏–∫–ª –ø–æ –º–∞—Å—Å–∏–≤—É</strong></td>
<td><code>&lt;?php foreach($posts as $post): ?&gt;...&lt;?php endforeach; ?&gt;</code></td>
<td>{% raw %}<code>{% for post in posts %}...{% endfor %}</code>{% endraw %}</td>
</tr>
<tr>
<td><strong>–£—Å–ª–æ–≤–∏–µ</strong></td>
<td><code>&lt;?php if($user): ?&gt;...&lt;?php endif; ?&gt;</code></td>
<td>{% raw %}<code>{% if user %}...{% endif %}</code>{% endraw %}</td>
</tr>
<tr>
<td><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞</strong></td>
<td>–°–ª–æ–∂–Ω–æ, —á–µ—Ä–µ–∑ include/require</td>
<td>{% raw %}<code>{% extends 'base.html.twig' %}</code>{% endraw %}</td>
</tr>
<tr>
<td><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></td>
<td>–ù—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ htmlspecialchars()</td>
<td>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
</tr>
</tbody>
</table>
</div>

<div class="key-points">
<h4>‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Twig:</h4>
<ul>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</li>
<li><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤</strong> ‚Äî –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å –±–ª–æ–∫–∞–º–∏</li>
<li><strong>–§–∏–ª—å—Ç—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏</strong> ‚Äî {% raw %}<code>{{ post.title|upper }}</code>{% endraw %}, {% raw %}<code>{{ path('route_name') }}</code>{% endraw %}</li>
<li><strong>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —à–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ PHP-–∫–æ–¥ –æ–¥–∏–Ω —Ä–∞–∑</li>
<li><strong>–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã, —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–µ–≥–∏</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ä–µ–¥–∞</strong> ‚Äî –≤ —à–∞–±–ª–æ–Ω–∞—Ö –Ω–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π PHP-–∫–æ–¥</li>
</ul>
</div>
</div>

<div class="card">
<h3><span class="icon">üì¶</span> –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Composer</h3>
<p>Composer ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è PHP. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.</p>

<div class="key-points">
<h4>üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:</h4>
<pre><code>mvc_blog/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ views/           # –¢–µ–ø–µ—Ä—å –∑–¥–µ—Å—å –±—É–¥—É—Ç Twig-—à–∞–±–ª–æ–Ω—ã
‚îÇ       ‚îî‚îÄ‚îÄ twig/       # –ù–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è Twig-—à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ vendor/              # –ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Å–æ–∑–¥–∞—Å—Ç Composer)
‚îî‚îÄ‚îÄ composer.json        # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Composer</code></pre>
</div>

<div class="key-points">
<h4>üîß –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Composer:</h4>
<ul>
<li>–°–∫–∞—á–∏–≤–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Twig, Symfony –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ç.–¥.)</li>
<li>–£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—è–º–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–ª–∞—Å—Å—ã (–Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å require_once)</li>
<li>–°–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç—É –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏</li>
</ul>
</div>
</div>

<div class="card">
<h3><span class="icon">üìù</span> –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Twig</h3>

<div class="key-points">
<h4>1. –í—ã–≤–æ–¥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π):</h4>
{% raw %}
<pre><code>{{ variable }}          {# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–≤–æ–¥ —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º #}
{{ variable|raw }}      {# –ë–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!) #}
{{ variable|default('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö') }} {# –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #}</code></pre>
{% endraw %}

<h4>2. –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h4>
{% raw %}
<pre><code>{# –£—Å–ª–æ–≤–∏—è #}
{% if user.isAdmin %}
    –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
{% elseif user.isModerator %}
    –ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
{% else %}
    –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
{% endif %}

{# –¶–∏–∫–ª—ã #}
{% for post in posts %}
    {{ loop.index }}. {{ post.title }}
{% else %}
    &lt;p&gt;–°—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç&lt;/p&gt;
{% endfor %}</code></pre>
{% endraw %}

<h4>3. –§–∏–ª—å—Ç—Ä—ã (–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã):</h4>
{% raw %}
<pre><code>{{ title|upper }}                 {# –í –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä #}
{{ content|truncate(100) }}       {# –û–±—Ä–µ–∑–∞—Ç—å –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤ #}
{{ date|date('d.m.Y H:i') }}      {# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã #}
{{ text|escape('html') }}         {# –Ø–≤–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ #}
{{ array|join(', ') }}            {# –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–∞—Å—Å–∏–≤ –≤ —Å—Ç—Ä–æ–∫—É #}</code></pre>
{% endraw %}

<h4>4. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤:</h4>
{% raw %}
<pre><code>{# base.html.twig #}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;{% block title %}–ú–æ–π —Å–∞–π—Ç{% endblock %}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    {% block content %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;

{# child.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã{% endblock %}

{% block content %}
    –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
{% endblock %}</code></pre>
{% endraw %}
</div>
</div>
</section>

<section class="section practice">
<h2 class="section-title">üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å (2 —á–∞—Å–∞)</h2>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Composer –∏ Twig</h3>

<ol>
<li>–ï—Å–ª–∏ Composer –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–∫–∞—á–∞–π—Ç–µ —Å <a href="https://getcomposer.org/download/" target="_blank">–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞</a></li>
<li>–í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (<code>mvc_blog/</code>) —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª <code>composer.json</code>:
<pre><code>{
    "require": {
        "twig/twig": "^3.0"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/"
        }
    }
}</code></pre>
</li>
<li>–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
<pre><code>composer install</code></pre>
</li>
<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–æ–∑–¥–∞–ª–∞—Å—å –ø–∞–ø–∫–∞ <code>vendor/</code> —Å —Ñ–∞–π–ª–∞–º–∏ Twig</li>
</ol>

<div class="note">
<p><strong>üìÅ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:</strong> Composer —Å–æ–∑–¥–∞–ª –ø–∞–ø–∫—É <code>vendor/</code>, —Å–∫–∞—á–∞–ª Twig –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –∫–ª–∞—Å—Å–æ–≤. –¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å <code>require_once</code> –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–∞–ø–∫–µ <code>app/</code>.</p>
</div>
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Twig –≤ –ø—Ä–æ–µ–∫—Ç–µ</h3>

<p>1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª <code>config/twig.php</code>:</p>
<pre><code>&lt;?php
// config/twig.php - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Twig

// –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤ —á–µ—Ä–µ–∑ Composer
require_once dirname(__DIR__) . '/vendor/autoload.php';

// –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è –∫—ç—à–∞ —à–∞–±–ª–æ–Ω–æ–≤ (–µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
$cachePath = dirname(__DIR__) . '/var/cache/twig';
if (!file_exists($cachePath)) {
    mkdir($cachePath, 0777, true);
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Twig
$loader = new \Twig\Loader\FilesystemLoader(dirname(__DIR__) . '/app/views/twig');
$twig = new \Twig\Environment($loader, [
    'cache' => $cachePath,
    'debug' => true, // –í–∫–ª—é—á–∞–µ–º –æ—Ç–ª–∞–¥–∫—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
    'auto_reload' => true, // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
]);

// –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–∞—Ö)
$twig->addGlobal('current_year', date('Y'));
$twig->addGlobal('site_name', 'MVC –ë–ª–æ–≥');

// –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL (–ø–æ–∫–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
$twig->addFunction(new \Twig\TwigFunction('url', function ($page = 'home', $params = []) {
    $query = http_build_query(array_merge(['page' => $page], $params));
    return "/mvc_blog/public/?{$query}";
}));

return $twig;</code></pre>

<p>2. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª <code>public/index.php</code>:</p>
<pre><code>&lt;?php
// public/index.php - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å Twig

// –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ Composer
require_once dirname(__DIR__) . '/vendor/autoload.php';

// –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
define('ROOT_PATH', dirname(__DIR__));
define('APP_PATH', ROOT_PATH . '/app');

// –ü–æ–¥–∫–ª—é—á–∞–µ–º Twig
$twig = require_once ROOT_PATH . '/config/twig.php';

// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ä–æ—É—Ç–∏–Ω–≥ (–∫–∞–∫ –±—ã–ª–æ)
$page = $_GET['page'] ?? 'home';

switch ($page) {
    case 'home':
        $controller = 'App\\Controllers\\HomeController';
        $action = 'index';
        break;
    case 'about':
        $controller = 'App\\Controllers\\HomeController';
        $action = 'about';
        break;
    default:
        $controller = 'App\\Controllers\\HomeController';
        $action = 'notFound';
        break;
}

// –ü–æ–¥–∫–ª—é—á–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
if (class_exists($controller)) {
    $controllerInstance = new $controller($twig);
    if (method_exists($controllerInstance, $action)) {
        $controllerInstance->$action();
    } else {
        echo "–ú–µ—Ç–æ–¥ {$action} –Ω–µ –Ω–∞–π–¥–µ–Ω";
    }
} else {
    echo "–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä {$controller} –Ω–µ –Ω–∞–π–¥–µ–Ω";
}</code></pre>
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 3: –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Twig</h3>

<p>–û–±–Ω–æ–≤–∏—Ç–µ <code>app/controllers/HomeController.php</code>:</p>
<pre><code>&lt;?php
// app/controllers/HomeController.php

namespace App\Controllers;

class HomeController
{
    private $twig;
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç Twig
    public function __construct(\Twig\Environment $twig)
    {
        $this->twig = $twig;
    }
    
    public function index()
    {
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        $data = [
            'title' => '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MVC –±–ª–æ–≥ —Å Twig!',
            'posts' => [
                ['id' => 1, 'title' => '–ü–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è –Ω–∞ Twig', 'content' => '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π —Å—Ç–∞—Ç—å–∏...', 'created_at' => '2026-01-01'],
                ['id' => 2, 'title' => '–í—Ç–æ—Ä–∞—è —Å—Ç–∞—Ç—å—è', 'content' => '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π —Å—Ç–∞—Ç—å–∏...', 'created_at' => '2026-01-02'],
                ['id' => 3, 'title' => '–°—Ç–∞—Ç—å—è —Å &lt;script&gt;—Ç–µ–≥–æ–º&lt;/script&gt;', 'content' => '–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Twig', 'created_at' => '2026-01-03'],
            ],
        ];
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω Twig
        echo $this->twig->render('home.html.twig', $data);
    }
    
    public function about()
    {
        $data = [
            'title' => '–û –Ω–∞—à–µ–º –±–ª–æ–≥–µ',
            'description' => '–≠—Ç–æ—Ç –±–ª–æ–≥ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Twig –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤.',
            'features' => ['MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', 'Twig —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä', '–†–æ—É—Ç–∏–Ω–≥', '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å'],
        ];
        
        echo $this->twig->render('about.html.twig', $data);
    }
    
    public function notFound()
    {
        $data = [
            'title' => '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞',
            'error_code' => 404,
            'message' => '–ó–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.',
        ];
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –æ—à–∏–±–æ–∫
        echo $this->twig->render('errors/404.html.twig', $data);
    }
}</code></pre>

<div class="key-points">
<h4>üìñ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:</h4>
<ul>
<li><code>namespace App\Controllers;</code> ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω –¥–ª—è –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏</li>
<li><code>__construct(\Twig\Environment $twig)</code> ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ–º Twig —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
<li><code>$this->twig->render()</code> ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º Twig –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤–º–µ—Å—Ç–æ —Å–≤–æ–µ–≥–æ –º–µ—Ç–æ–¥–∞ render</li>
<li>–ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã –º–µ—Ç–æ–¥—ã <code>render()</code> –∏ <code>extract()</code></li>
</ul>
</div>
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 4: –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω Twig</h3>

<p>–°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/layout/base.html.twig</code>:</p>
{% raw %}
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="ru"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;{% block title %}{{ site_name }}{% endblock %}&lt;/title&gt;
    &lt;style&gt;
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; line-height: 1.6; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: #2c3e50; color: white; padding: 1rem 0; }
        nav ul { display: flex; list-style: none; gap: 20px; }
        nav a { color: white; text-decoration: none; padding: 5px 10px; border-radius: 3px; }
        nav a:hover, nav a.active { background: rgba(255,255,255,0.1); }
        main { padding: 2rem 0; min-height: 70vh; }
        .post { background: white; padding: 1.5rem; margin-bottom: 1rem; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .post-meta { color: #7f8c8d; font-size: 0.9rem; margin-bottom: 10px; }
        footer { background: #34495e; color: white; padding: 2rem 0; margin-top: 3rem; }
        .alert { padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .alert-danger { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .breadcrumb { margin-bottom: 20px; }
        .breadcrumb a { color: #3498db; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;div class="container"&gt;
            &lt;h1&gt;&lt;a href="{{ url('home') }}" style="color: white; text-decoration: none;"&gt;{{ site_name }}&lt;/a&gt;&lt;/h1&gt;
            &lt;nav&gt;
                &lt;ul&gt;
                    &lt;li&gt;&lt;a href="{{ url('home') }}" {% if current_page == 'home' %}class="active"{% endif %}&gt;–ì–ª–∞–≤–Ω–∞—è&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href="{{ url('about') }}" {% if current_page == 'about' %}class="active"{% endif %}&gt;–û –±–ª–æ–≥–µ&lt;/a&gt;&lt;/li&gt;
                    &lt;li&gt;&lt;a href="{{ url('contact') }}" {% if current_page == 'contact' %}class="active"{% endif %}&gt;–ö–æ–Ω—Ç–∞–∫—Ç—ã&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/nav&gt;
        &lt;/div&gt;
    &lt;/header&gt;
    
    &lt;main class="container"&gt;
        {# –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) #}
        {% block breadcrumb %}{% endblock %}
        
        {# –°–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã) #}
        {% block messages %}{% endblock %}
        
        {# –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã #}
        {% block content %}{% endblock %}
    &lt;/main&gt;
    
    &lt;footer&gt;
        &lt;div class="container"&gt;
            &lt;p&gt;¬© {{ current_year }} {{ site_name }}. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.&lt;/p&gt;
            &lt;p&gt;–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ PHP + Twig&lt;/p&gt;
        &lt;/div&gt;
    &lt;/footer&gt;
    
    &lt;!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã --&gt;
    {% block scripts %}{% endblock %}
&lt;/body&gt;
&lt;/html&gt;</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 5: –°–æ–∑–¥–∞–µ–º Twig-—à–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü</h3>

<p>1. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/home.html.twig</code>:</p>
{% raw %}
<pre><code>{# –ù–∞—Å–ª–µ–¥—É–µ–º –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω #}
{% extends 'layout/base.html.twig' %}

{% block title %}{{ title }} | {{ parent() }}{% endblock %}

{% block content %}
    &lt;h2&gt;{{ title }}&lt;/h2&gt;
    &lt;p&gt;–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—à–µ–≥–æ –±–ª–æ–≥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Twig.&lt;/p&gt;
    
    {# –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤ Twig #}
    &lt;p&gt;–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π: &lt;strong&gt;{{ posts|length }}&lt;/strong&gt;&lt;/p&gt;
    
    &lt;h3&gt;–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏:&lt;/h3&gt;
    
    {% if posts|length > 0 %}
        {% for post in posts %}
            &lt;article class="post"&gt;
                &lt;h4&gt;{{ post.title }}&lt;/h4&gt;
                &lt;div class="post-meta"&gt;
                    –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ post.created_at|date('d.m.Y') }}
                    | ID: {{ post.id }}
                &lt;/div&gt;
                &lt;p&gt;{{ post.content|truncate(150) }}&lt;/p&gt;
                &lt;a href="{{ url('post', {'id': post.id}) }}"&gt;–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí&lt;/a&gt;
            &lt;/article&gt;
        {% endfor %}
    {% else %}
        &lt;div class="alert"&gt;–°—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.&lt;/div&gt;
    {% endif %}
    
    {# –ü—Ä–∏–º–µ—Ä –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π #}
    {% if posts|length > 5 %}
        &lt;p&gt;&lt;small&gt;–ü–æ–∫–∞–∑–∞–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Å—Ç–∞—Ç–µ–π –∏–∑ {{ posts|length }}&lt;/small&gt;&lt;/p&gt;
    {% endif %}
{% endblock %}

{% block scripts %}
    &lt;script&gt;
        console.log('–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    &lt;/script&gt;
{% endblock %}</code></pre>
{% endraw %}

<p>2. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/about.html.twig</code>:</p>
{% raw %}
<pre><code>{% extends 'layout/base.html.twig' %}

{% block title %}{{ title }} | {{ parent() }}{% endblock %}

{% block breadcrumb %}
    &lt;div class="breadcrumb"&gt;
        &lt;a href="{{ url('home') }}"&gt;–ì–ª–∞–≤–Ω–∞—è&lt;/a&gt; / –û –±–ª–æ–≥–µ
    &lt;/div&gt;
{% endblock %}

{% block content %}
    &lt;h2&gt;{{ title }}&lt;/h2&gt;
    &lt;p&gt;{{ description }}&lt;/p&gt;
    
    &lt;h3&gt;–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞:&lt;/h3&gt;
    &lt;ul&gt;
        {% for feature in features %}
            &lt;li&gt;{{ feature }}&lt;/li&gt;
        {% endfor %}
    &lt;/ul&gt;
    
    &lt;h3&gt;–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:&lt;/h3&gt;
    &lt;table border="1" style="border-collapse: collapse; width: 100%;"&gt;
        &lt;tr&gt;
            &lt;th&gt;–ö–æ–º–ø–æ–Ω–µ–Ω—Ç&lt;/th&gt;
            &lt;th&gt;–í–µ—Ä—Å–∏—è&lt;/th&gt;
            &lt;th&gt;–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;PHP&lt;/td&gt;
            &lt;td&gt;8.1+&lt;/td&gt;
            &lt;td&gt;–ë—ç–∫–µ–Ω–¥&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Twig&lt;/td&gt;
            &lt;td&gt;3.0&lt;/td&gt;
            &lt;td&gt;–®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Composer&lt;/td&gt;
            &lt;td&gt;2.0&lt;/td&gt;
            &lt;td&gt;–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
{% endblock %}</code></pre>
{% endraw %}

<p>3. –°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/errors/404.html.twig</code>:</p>
{% raw %}
<pre><code>{# –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –ù–ï –Ω–∞—Å–ª–µ–¥—É–µ—Ç –±–∞–∑–æ–≤—ã–π, —É –Ω–µ–≥–æ —Å–≤–æ–π –¥–∏–∑–∞–π–Ω #}
&lt;!DOCTYPE html&gt;
&lt;html lang="ru"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;{{ title }}&lt;/title&gt;
    &lt;style&gt;
        body { 
            font-family: Arial, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            background: #f8f9fa; 
            color: #333;
            text-align: center;
        }
        .error-container { max-width: 500px; }
        .error-code { 
            font-size: 120px; 
            color: #e74c3c; 
            margin: 0; 
            font-weight: bold;
        }
        .error-message { 
            font-size: 24px; 
            margin: 20px 0; 
        }
        .back-link { 
            display: inline-block; 
            margin-top: 20px; 
            padding: 10px 20px; 
            background: #3498db; 
            color: white; 
            text-decoration: none; 
            border-radius: 5px;
        }
        .back-link:hover { background: #2980b9; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="error-container"&gt;
        &lt;h1 class="error-code"&gt;{{ error_code }}&lt;/h1&gt;
        &lt;p class="error-message"&gt;{{ message }}&lt;/p&gt;
        &lt;p&gt;–í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –∏–ª–∏ –≤—ã –æ—à–∏–±–ª–∏—Å—å –≤ –∞–¥—Ä–µ—Å–µ.&lt;/p&gt;
        &lt;a href="{{ url('home') }}" class="back-link"&gt;–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é&lt;/a&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
{% endraw %}
</div>

<div class="task">
<h3><span class="icon">‚úÖ</span> –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å Twig</h3>

<ol>
<li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ:
<pre><code>http://localhost/mvc_blog/public/?page=home</code></pre>
</li>
<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ:
<ul>
<li>–°—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
<li>–ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é)</li>
<li>–°—Ç–∞—Ç—å—è —Å —Ç–µ–≥–æ–º &lt;script&gt; –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç (–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è!)</li>
<li>–§–∏–ª—å—Ç—Ä—ã Twig —Ä–∞–±–æ—Ç–∞—é—Ç (–¥–∞—Ç–∞, –æ–±—Ä–µ–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞)</li>
</ul>
</li>
<li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É 404:
<pre><code>http://localhost/mvc_blog/public/?page=unknown</code></pre>
</li>
</ol>

<div class="note">
<p><strong>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Ctrl+U) –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç–∞—Ç—å—é —Å —Ç–µ–≥–æ–º &lt;script&gt;. –í—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ —Ç–µ–≥ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω: <code>&amp;lt;script&amp;gt;—Ç–µ–≥–æ–º&amp;lt;/script&amp;gt;</code> ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ Twig –æ—Ç XSS!</p>
</div>
</div>

<div class="task">
<h3><span class="icon">üß™</span> –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å Twig</h3>

<div class="key-points">
<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã</h4>
<ol>
<li>–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Twig (<code>config/twig.php</code>) –¥–æ–±–∞–≤—å—Ç–µ:
<pre><code>// –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –º–µ—Å—è—Ü–µ–≤
$twig->addFilter(new \Twig\TwigFilter('russian_date', function($date) {
    $months = [
        1 => '—è–Ω–≤–∞—Ä—è', 2 => '—Ñ–µ–≤—Ä–∞–ª—è', 3 => '–º–∞—Ä—Ç–∞',
        4 => '–∞–ø—Ä–µ–ª—è', 5 => '–º–∞—è', 6 => '–∏—é–Ω—è',
        7 => '–∏—é–ª—è', 8 => '–∞–≤–≥—É—Å—Ç–∞', 9 => '—Å–µ–Ω—Ç—è–±—Ä—è',
        10 => '–æ–∫—Ç—è–±—Ä—è', 11 => '–Ω–æ—è–±—Ä—è', 12 => '–¥–µ–∫–∞–±—Ä—è'
    ];
    
    $timestamp = strtotime($date);
    return date('d', $timestamp) . ' ' . $months[date('n', $timestamp)] . ' ' . date('Y', $timestamp);
}));</code></pre>
</li>
<li>–í —à–∞–±–ª–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: {% raw %}<code>{{ post.created_at|russian_date }}</code>{% endraw %}</li>
</ol>

<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –°–æ–∑–¥–∞–π—Ç–µ –º–∞–∫—Ä–æ—Å (—Ñ—É–Ω–∫—Ü–∏—é) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏</h4>
<ol>
<li>–°–æ–∑–¥–∞–π—Ç–µ <code>app/views/twig/macros/post.html.twig</code>:
{% raw %}
<pre><code>{# –ú–∞–∫—Ä–æ—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ #}
{% macro display(post) %}
    &lt;div class="post"&gt;
        &lt;h4&gt;{{ post.title }}&lt;/h4&gt;
        &lt;p&gt;{{ post.content|truncate(200) }}&lt;/p&gt;
        &lt;a href="{{ url('post', {'id': post.id}) }}"&gt;–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ&lt;/a&gt;
    &lt;/div&gt;
{% endmacro %}</code></pre>
{% endraw %}
</li>
<li>–í –æ—Å–Ω–æ–≤–Ω–æ–º —à–∞–±–ª–æ–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
{% raw %}
<pre><code>{% import 'macros/post.html.twig' as post_macro %}

{{ post_macro.display(current_post) }}</code></pre>
{% endraw %}
</li>
</ol>

<h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –î–æ–±–∞–≤—å—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤</h4>
<p>–í —à–∞–±–ª–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥ cache:</p>
{% raw %}
<pre><code>{% cache 'sidebar' 600 %} {# –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 10 –º–∏–Ω—É—Ç #}
    &lt;div class="sidebar"&gt;
        &lt;h3&gt;–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ç—å–∏&lt;/h3&gt;
        {% for post in popular_posts %}
            ... 
        {% endfor %}
    &lt;/div&gt;
{% endcache %}</code></pre>
{% endraw %}
</div>
</div>
</section>

<section class="section">
<h2 class="section-title">üìã –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>

<div class="homework">
<h3><span class="icon">‚úèÔ∏è</span> –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å 2</h3>

<ol>
<li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Twig —á–µ—Ä–µ–∑ Composer –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç</li>
<li>–ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —à–∞–±–ª–æ–Ω—ã (home, about) –Ω–∞ Twig</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ö–æ–Ω—Ç–∞–∫—Ç—ã" —Å —Ñ–æ—Ä–º–æ–π –∏—Å–ø–æ–ª—å–∑—É—è Twig:
<ul>
<li>–®–∞–±–ª–æ–Ω <code>contact.html.twig</code></li>
<li>–ú–µ—Ç–æ–¥ <code>contact()</code> –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç –≤ <code>index.php</code></li>
</ul>
</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –≤ –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –≤—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–∫–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É: <code>$twig->addGlobal('current_user', ['name' => '–ì–æ—Å—Ç—å'])</code>)</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ Twig-—Ñ–∏–ª—å—Ç—Ä –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–¥–∞:
<pre><code>// –í config/twig.php
$twig->addFilter(new \Twig\TwigFilter('highlight_php', function($code) {
    return highlight_string('&lt;?php ' . $code, true);
}));

// –í —à–∞–±–ª–æ–Ω–µ
{% raw %}&lt;pre&gt;{{ 'echo "Hello World!";'|highlight_php|raw }}&lt;/pre&gt;{% endraw %}</code></pre>
</li>
<li><strong>–ë–æ–Ω—É—Å:</strong> –†–µ–∞–ª–∏–∑—É–π—Ç–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è:
<ul>
<li><code>base.html.twig</code> ‚Äî –æ–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</li>
<li><code>admin_layout.html.twig</code> ‚Äî –Ω–∞—Å–ª–µ–¥—É–µ—Ç base, –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ–Ω—é –∞–¥–º–∏–Ω–∫–∏</li>
<li><code>admin_dashboard.html.twig</code> ‚Äî –Ω–∞—Å–ª–µ–¥—É–µ—Ç admin_layout</li>
</ul>
</li>
<li><strong>–ë–æ–Ω—É—Å 2:</strong> –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω –ø–∏—Å—å–º–∞ (email.html.twig) —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç–µ –µ–≥–æ –±–µ–∑ HTML-–æ–±—Ä–∞–º–ª–µ–Ω–∏—è</li>
</ol>
</div>
</section>

<section class="section">
<h2 class="section-title">üß† –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è</h2>

<div class="quiz">
<h3><span class="icon">‚ùì</span> –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</h3>

<ol>
<li>–ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Twig –≤–º–µ—Å—Ç–æ —á–∏—Å—Ç–æ–≥–æ PHP –≤ —à–∞–±–ª–æ–Ω–∞—Ö?</li>
<li>–ö–∞–∫ Twig –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç XSS-–∞—Ç–∞–∫?</li>
<li>–ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤ Twig –∏ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ 3 –ø—Ä–∏–º–µ—Ä–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è?</li>
<li>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –≤ Twig?</li>
<li>–ó–∞—á–µ–º –Ω—É–∂–µ–Ω Composer –∏ —á—Ç–æ —Ç–∞–∫–æ–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤?</li>
<li>–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –¥–æ—Å—Ç—É–ø–Ω—É—é –≤–æ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–∞—Ö?</li>
<li>–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É {% raw %}<code>{{ variable }}</code>{% endraw %} –∏ {% raw %}<code>{{ variable|raw }}</code>{% endraw %}?</li>
<li>–ö–∞–∫ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç —à–∞–±–ª–æ–Ω–∞ –≤ Twig?</li>
</ol>

<button onclick="toggleAnswers()" class="button button--primary" style="margin-top: 20px;">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>

<div id="answers" style="display: none; margin-top: 20px; padding: 20px; background: var(--light-color); border-radius: var(--border-radius); border-left: 4px solid var(--primary-color);">
<h4>–û—Ç–≤–µ—Ç—ã:</h4>
<ol>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤, —á–∏—Ç–∞–µ–º—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ñ–∏–ª—å—Ç—Ä—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</li>
<li>–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤—ã–≤–æ–¥–µ (htmlspecialchars). –î–ª—è –≤—ã–≤–æ–¥–∞ –±–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ —è–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä |raw.</li>
<li>–§–∏–ª—å—Ç—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ: |upper (–≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä), |date (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã), |truncate (–æ–±—Ä–µ–∑–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞), |length (–¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞).</li>
<li>–®–∞–±–ª–æ–Ω-–ø–æ—Ç–æ–º–æ–∫ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –ø–æ–º–æ—â—å—é {% raw %}<code>{% extends %}</code>{% endraw %} –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –±–ª–æ–∫–∏ —Å –ø–æ–º–æ—â—å—é {% raw %}<code>{% block %}</code>{% endraw %}.</li>
<li>Composer ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –ø–∏—Å–∞—Ç—å require_once –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞.</li>
<li>–° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ <code>$twig->addGlobal('–∏–º—è', –∑–Ω–∞—á–µ–Ω–∏–µ)</code> –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.</li>
<li>{% raw %}<code>{{ variable }}</code>{% endraw %} ‚Äî –≤—ã–≤–æ–¥ —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º, {% raw %}<code>{{ variable|raw }}</code>{% endraw %} ‚Äî –≤—ã–≤–æ–¥ –±–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö!).</li>
<li>–° –ø–æ–º–æ—â—å—é —Ç–µ–≥–∞ {% raw %}<code>{% cache '–∏–º—è_–∫—ç—à–∞' –≤—Ä–µ–º—è_–≤_—Å–µ–∫—É–Ω–¥–∞—Ö %}...{% endcache %}</code>{% endraw %}.</li>
</ol>
</div>
</div>
</section>

<section class="section tips">
<h2 class="section-title">üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å Twig</h2>

<div class="tips-grid">
<div class="tip-card">
<div class="tip-icon">üöÄ</div>
<h3>–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤</h3>
<p>–ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Twig. –°–Ω–∞—á–∞–ª–∞ –æ—Å–≤–æ–∏—Ç–µ –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∑–∞—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ—Ç–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –º–∞–∫—Ä–æ—Å—ã.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üõ°Ô∏è</div>
<h3>–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
<p>–ò–∑–±–µ–≥–∞–π—Ç–µ |raw –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. Twig —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —ç—Ç–æ –≤–∞—à–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç XSS. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ |raw —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ HTML.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üìÅ</div>
<h3>–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã –≤ –ø–∞–ø–∫–∏</h3>
<p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É: layout/, pages/, components/, macros/, errors/. –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.</p>
</div>

<div class="tip-card">
<div class="tip-icon">‚ö°</div>
<h3>–í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ</h3>
<p>–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>'debug' => true</code>, –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ ‚Äî <code>'cache' => 'path/to/cache'</code> –∏ <code>'auto_reload' => false</code> –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üîß</div>
<h3>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏</h3>
<p>–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤—ã–Ω–æ—Å–∏—Ç–µ –≤ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω, –¥–∞—Ç, —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∏ —Ç.–¥.</p>
</div>

<div class="tip-card">
<div class="tip-icon">üìö</div>
<h3>–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Twig</h3>
<p>–í Twig –º–Ω–æ–≥–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤: <a href="https://twig.symfony.com/doc/3.x/" target="_blank">twig.symfony.com</a></p>
</div>
</div>
</section>


<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è
function generateTableOfContents() {
    const headings = document.querySelectorAll('.section-title, .card h3');
    const tocList = document.getElementById('toc-list');
    
    if (!tocList || headings.length === 0) return;
    
    tocList.innerHTML = '';
    
    headings.forEach((heading, index) => {
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        if (heading.textContent.includes('‚ùì') || heading.textContent.includes('‚úèÔ∏è')) return;
        
        // –°–æ–∑–¥–∞–µ–º ID –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
        let headingId = heading.id;
        if (!headingId) {
            headingId = 'heading-' + index;
            heading.id = headingId;
        }
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º
        let level = 2;
        if (heading.classList.contains('section-title')) {
            level = 1;
        } else if (heading.closest('.card')) {
            level = 3;
        }
        
        // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
        const li = document.createElement('li');
        li.className = `toc-item toc-level-${level}`;
        
        const a = document.createElement('a');
        a.href = `#${headingId}`;
        a.className = 'toc-link';
        a.textContent = heading.textContent.replace(/[üìöüíªüí°üéØüõ†Ô∏è‚úçÔ∏èüèóÔ∏èüìêüõ£Ô∏è‚öôÔ∏è]/g, '').trim();
        
        a.addEventListener('click', function(e) {
            e.preventDefault();
            closeTOC();
            
            // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É
            const target = document.getElementById(headingId);
            if (target) {
                const headerOffset = 80;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
        
        li.appendChild(a);
        tocList.appendChild(li);
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º
function openTOC() {
    const modal = document.getElementById('toc-modal');
    if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }
}

function closeTOC() {
    const modal = document.getElementById('toc-modal');
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

// –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function createTOCElements() {
    // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
    const toggleBtn = document.createElement('button');
    toggleBtn.className = 'toc-toggle';
    toggleBtn.id = 'toc-toggle';
    toggleBtn.innerHTML = 'üìë';
    toggleBtn.title = '–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞';
    toggleBtn.addEventListener('click', openTOC);
    document.body.appendChild(toggleBtn);
    
    // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.createElement('div');
    modal.className = 'toc-modal';
    modal.id = 'toc-modal';
    
    modal.innerHTML = `
        <div class="toc-content">
            <button class="toc-close" id="toc-close">√ó</button>
            <h2 style="color: var(--primary-color); margin-bottom: 20px;">–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞</h2>
            <ul class="toc-list" id="toc-list"></ul>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
    document.getElementById('toc-close').addEventListener('click', closeTOC);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeTOC();
        }
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeTOC();
        }
    });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è
    createTOCElements();
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
    generateTableOfContents();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    let lastScrollTop = 0;
    const tocBtn = document.getElementById('toc-toggle');
    
    window.addEventListener('scroll', function() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–Ω–∏–∑, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö
        if (scrollTop > lastScrollTop && scrollTop > 100) {
            tocBtn.style.opacity = '0.6';
            tocBtn.style.transform = 'translateY(-10px)';
        } else {
            tocBtn.style.opacity = '1';
            tocBtn.style.transform = 'translateY(0)';
        }
        
        lastScrollTop = scrollTop;
    });
});

function toggleAnswers() {
const answers = document.getElementById('answers');
const button = event.target;

if (answers.style.display === 'none') {
answers.style.display = 'block';
button.textContent = '–°–∫—Ä—ã—Ç—å –æ—Ç–≤–µ—Ç—ã';
} else {
answers.style.display = 'none';
button.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã';
}
}

// –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
document.addEventListener('DOMContentLoaded', function() {
const codeBlocks = document.querySelectorAll('pre code');

codeBlocks.forEach(block => {
block.addEventListener('click', function() {
const range = document.createRange();
range.selectNodeContents(this);
const selection = window.getSelection();
selection.removeAllRanges();
selection.addRange(range);

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
const tooltip = document.createElement('div');
tooltip.textContent = '–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞';
tooltip.style.cssText = `
position: fixed;
bottom: 20px;
right: 20px;
background: var(--primary-color);
color: white;
padding: 10px 20px;
border-radius: var(--border-radius);
z-index: 1000;
animation: fadeInOut 2s ease;
`;

document.body.appendChild(tooltip);

// –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç
navigator.clipboard.writeText(block.textContent).then(() => {
setTimeout(() => tooltip.remove(), 2000);
});
});

// –ú–µ–Ω—è–µ–º –∫—É—Ä—Å–æ—Ä –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
block.style.cursor = 'pointer';
block.title = '–ö–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥';
});
});

// –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —è–∫–æ—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
anchor.addEventListener('click', function(e) {
e.preventDefault();
const target = document.querySelector(this.getAttribute('href'));
if (target) {
target.scrollIntoView({
behavior: 'smooth',
block: 'start'
});
}
});
});
</script>